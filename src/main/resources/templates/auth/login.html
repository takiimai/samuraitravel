<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragments/layout :: head('ログイン')}">
</head>

<body>
	<header th:replace="~{fragments/layout :: header}"></header>

	<div class="container py-5">
		<div class="row justify-content-center">
			<div class="col-md-6">
				<div class="card shadow">
					<div class="card-body p-5">
						<h2 class="card-title text-center mb-4">ログイン</h2>

						<div th:if="${param.error}" class="alert alert-danger">
							メールアドレスまたはパスワードが正しくありません。
						</div>

						<div th:if="${param.logout}" class="alert alert-success">
							ログアウトしました。
						</div>

						<div th:if="${param.registered}" class="alert alert-success">
							会員登録が完了しました。ログインしてください。
						</div>

						<div th:if="${param.verified}" class="alert alert-success">
							メールアドレスが確認されました。ログインしてください。
						</div>

						<div th:if="${message}" class="alert alert-info" th:text="${message}">
							情報メッセージ
						</div>


						<form th:action="@{/auth/login}" method="post">
							<div class="mb-3">
								<label for="username" class="form-label">メールアドレス</label>
								<input type="email" id="username" name="username" class="form-control" required>
							</div>

							<div class="mb-3">
								<label for="password" class="form-label">パスワード</label>
								<input type="password" id="password" name="password" class="form-control" required>
							</div>

							<div class="mb-3 form-check">
								<input type="checkbox" id="remember-me" name="remember-me" class="form-check-input">
								<label for="remember-me" class="form-check-label">ログイン状態を保持する</label>
							</div>

							<div class="d-grid gap-2">
								<button type="submit" class="btn btn-primary">ログイン</button>
							</div>
						</form>

						<div class="mt-3 text-center">
							<p>アカウントをお持ちでない方は<a th:href="@{/auth/register}">こちら</a>から登録できます。</p>
						</div>

						<!-- ページ下部に追加 -->
						<div class="mt-3 text-center">
							<p>確認メールが届きませんか？ <a th:href="@{/auth/resend-verification}">再送信する</a></p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<footer th:replace="~{fragments/layout :: footer}"></footer>
	<th:block th:replace="~{fragments/layout :: scripts}"></th:block>
</body>

</html>